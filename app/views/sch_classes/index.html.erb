<div class="row-fluid">
	<div class="col-xs-2 span2">
		<h2>班级管理</h2>
	</div>
	<div class="col-xs-7 span7">
		<div class="row">
			<div class="span12">
				<%= render 'error' %>
			</div>
		</div>
		<div class="row-fluid">
		<table class="table">
			<tr>
				<th>年级</th>
				<th>班级</th>
				<th>班主任</th>
				<th colspan="3"></th>
			</tr>
			<% @sch_classes.each do |sch_class| %>
				<tr>
					<td><%= sch_class.grade %></td>
					<td><%= sch_class.class_number %></td>
					<td><%= sch_class.teacher %></td>
					<td><%= link_to '详情', sch_class_path(sch_class) %></td>
					<td><%= link_to '删除', sch_class_path(sch_class),
						method: :delete,
						data: { confirm: '确认删除此班级?' } %></td>
				</tr>
			<% end %>
		</table>
		<ul class="pagination">
			<% props_prev=@page_range[:prev].blank? ? {class: "disabled"} : {}
			   props_next=@page_range[:next].blank? ? {class: "disabled"} : {}
			%>
			<% if props_prev.count == 0 %>
				<li>
			<% else %>
				<li class="disabled">
			<% end %>
			<%= link_to "上一页", sch_classes_path+"/?page=#{@page_range[:prev]}"%>
			</li>
			<% (@page_range[:start]..@page_range[:end]).each do |num| 
				props= num==@page_range[:current] ? {class: "active"} : {}
			%>
			<% if props.count > 0 %>
				<li class="active">
			<% else %>
				<li>
			<% end %>
			<%= link_to num, sch_classes_path+"/?page=#{num}", props%></li>
			<% end %>
			<% if props_next.count == 0 %>
				<li>
			<% else %>
				<li class="disabled">
			<% end %>
			<%= link_to "下一页", sch_classes_path+"/?page=#{@page_range[:next]}"%></li>
		</ul>
		</div>
	</div>
	<div class="col-xs-3 span3">
		<div class="row-fluid">
			<div class="span12">
				<h4>新建班级</h4>
				<%= render 'form' %>
			</div>
		</div>
	</div>
</div>
