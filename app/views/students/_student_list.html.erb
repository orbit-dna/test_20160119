<table class="table">
	<tr>
		<th>班级</th>
		<th></th>
		<th>姓名</th>
		<th>性别</th>
		<th>生日</th>
		<th colspan="3"></th>
	</tr>
	<% @students.each do |student| %>
		<tr>
			<% sch_class=student.sch_class %>
			<td><%= sch_class.blank? ? "未分班" : 
				"#{sch_class.grade}年#{sch_class.class_number}班" %></td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
			<td><%= student.name %></td>
			<td><%= student.gender==nil ? "未知" : 
				student.gender ? "男" : "女" %></td>
			<td><%= student.birth %></td>
			<td><%= link_to '详情', student_path(student) %></td>
			<td><%= link_to '删除', student_path(student),
				method: :delete,
				data: { confirm: '确认删除此学生?' } %></td>
		</tr>
	<% end %>
</table>
<ul class="pagination">
	<% props_prev=@page_range[:prev].blank? ? {class: "disabled"} : {}
	   props_next=@page_range[:next].blank? ? {class: "disabled"} : {}
	%>
	<% if props_prev.count == 0 %>
		<li>
	<% else %>
		<li class="disabled">
	<% end %>
	<%= link_to "上一页", @page_range[:base_path]+"/?page=#{@page_range[:prev]}"%>
	</li>
	<% (@page_range[:start]..@page_range[:end]).each do |num| 
		props= num==@page_range[:current] ? {class: "active"} : {}
	%>
	<% if props.count > 0 %>
		<li class="active">
	<% else %>
		<li>
	<% end %>
	<%= link_to num, @page_range[:base_path]+"/?page=#{num}", props%></li>
	<% end %>
	<% if props_next.count == 0 %>
		<li>
	<% else %>
		<li class="disabled">
	<% end %>
	<%= link_to "下一页", @page_range[:base_path]+"/?page=#{@page_range[:next]}"%></li>
</ul>
